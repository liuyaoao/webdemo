<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>复杂网络图形工具Cytoscape.js</title>
<!-- <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1"> -->
<script type="text/javascript" src="../../static/jquery2.1.3.js"></script>
 <script src="../../static/cytoscape.js"></script>

<!-- for testing with local version of cytoscape.js -->
<!--<script src="../cytoscape.js/build/cytoscape.js"></script>-->

<style>
  body {
    font-family: helvetica, sans-serif;
    font-size: 14px;
  }

  #cy {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    z-index: 999;
  }

  h1 {
    opacity: 0.5;
    font-size: 1em;
  }
</style>

<script>
// 字符串里的斜杠和反斜杠要转义一下，不能不能用JSON.parse()转成json对象。
var tempStr = '{"elements":{"nodes":[{"data":{"label":"top left","id":"d3fe3d73-9920-4a87-83ee-648793521fd8"},"position":{"x":320,"y":58},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"top-left"},{"data":{"label":"top center","id":"8aac20e8-f481-4ff0-9d1c-f8edf4fe9408"},"position":{"x":960,"y":58},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"top-center"},{"data":{"label":"top right","id":"577bbd38-f48d-44cf-a315-56c3b160e5d5"},"position":{"x":1600,"y":58},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"top-right"},{"data":{"label":"center left","id":"979c484b-9616-490d-8962-895b8da8a166"},"position":{"x":320,"y":174},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"center-left"},{"data":{"label":"center center","id":"de5c96f5-bcec-4eba-a1ad-dc2f4009b7cd"},"position":{"x":960,"y":174},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"center-center"},{"data":{"label":"center right","id":"c3484a1a-9383-4ae8-9cdf-2468db701057"},"position":{"x":1600,"y":174},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"center-right"},{"data":{"label":"bottom left","id":"b1c68a75-22a3-4f81-abdb-ad4c0971ade8"},"position":{"x":320,"y":290},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"bottom-left"},{"data":{"label":"bottom center","id":"133d3a36-7f26-4f78-bd11-cb3c68d74577"},"position":{"x":960,"y":290},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"bottom-center"},{"data":{"label":"bottom right","id":"95eb375b-3f5d-452d-81fe-49cf9c302080"},"position":{"x":1600,"y":290},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"bottom-right"},{"data":{"label":"multiline manual\nfoo\nbar\nbaz","id":"a0732ea5-6429-4e06-b9ac-4570a9a17217"},"position":{"x":320,"y":406},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"multiline-manual"},{"data":{"label":"multiline auto foo bar baz","id":"29ebe4fa-ff6d-45f7-8a21-01cc6bb23a1a"},"position":{"x":960,"y":406},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"multiline-auto"},{"data":{"label":"outline","id":"0df9c563-9af9-462e-90c3-aaf3c7dd595f"},"position":{"x":1600,"y":406},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"outline"},{"data":{"id":"ar-src"},"position":{"x":320,"y":522},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":""},{"data":{"id":"ar-tgt"},"position":{"x":960,"y":522},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":""},{"data":{"label":"background","id":"43b6359f-6a18-49df-8335-b675dee1e69e"},"position":{"x":1600,"y":522},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"background"}],"edges":[{"data":{"source":"ar-src","target":"ar-tgt","label":"autorotate (move my nodes)","id":"ab77a84a-a2c2-4cfb-a5df-19dc460869bc"},"position":{},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"classes":"autorotate"}]},"style":[{"selector":"node","style":{"height":"40px","width":"40px","background-color":"#ccc","label":"data(label)"}},{"selector":"edge","style":{"label":"data(label)","width":"3px","line-color":"#ccc"}},{"selector":".top-left","style":{"text-valign":"top","text-halign":"left"}},{"selector":".top-center","style":{"text-valign":"top","text-halign":"center"}},{"selector":".top-right","style":{"text-valign":"top","text-halign":"right"}},{"selector":".center-left","style":{"text-valign":"center","text-halign":"left"}},{"selector":".center-center","style":{"text-valign":"center","text-halign":"center"}},{"selector":".center-right","style":{"text-valign":"center","text-halign":"right"}},{"selector":".bottom-left","style":{"text-valign":"bottom","text-halign":"left"}},{"selector":".bottom-center","style":{"text-valign":"bottom","text-halign":"center"}},{"selector":".bottom-right","style":{"text-valign":"bottom","text-halign":"right"}},{"selector":".multiline-manual","style":{"text-wrap":"wrap"}},{"selector":".multiline-auto","style":{"text-wrap":"wrap","text-max-width":"80px"}},{"selector":".autorotate","style":{"text-rotation":"autorotate"}},{"selector":".background","style":{"text-background-opacity":"1","text-background-color":"#ccc","text-background-shape":"roundrectangle","text-border-color":"#000","text-border-width":"1px","text-border-opacity":"1"}},{"selector":".outline","style":{"text-outline-color":"#ccc","text-outline-width":"3px"}}],"zoomingEnabled":true,"userZoomingEnabled":true,"zoom":0.578544061302682,"minZoom":1e-50,"maxZoom":1e+50,"panningEnabled":true,"userPanningEnabled":true,"pan":{"x":401.1030880134654,"y":25.0732886660017},"boxSelectionEnabled":false,"renderer":{"name":"canvas"}}';
tempStr = tempStr.replace(/\n/g,"\\n");
// var dataObj=eval("("+tempStr+")");//转换为json对象
var dataObj = $.parseJSON(tempStr);
console.log("json",dataObj);



  document.addEventListener('DOMContentLoaded', function(){
    var cy = window.cy = cytoscape({
      container: document.getElementById('cy'),
    });
    // console.log("json",tempObj);
    cy.json(JSON.parse(tempStr));
    cy.boxSelectionEnabled( true );
    console.log("boxSelectionEnabled:",cy.boxSelectionEnabled());
    cy.panningEnabled( false ); //设置或获取整体图形是否可拖动镜头
    cy.zoom({
      level: 2.0, // the zoom level
      renderedPosition: { x: 100, y: 100 }
    });
  });
</script>
</head>

<body>
<h1>Labels demo</h1>

<div id="cy"></div>

</body>
</html>
